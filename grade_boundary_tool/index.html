<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Boundary Calculator - PGrayCS</title>
    <meta name="description" content="Data-driven GCSE grade boundary calculator for UK educators. Calculate optimal grade thresholds from actual student scores using grades 0-9.">
    
    <!-- Open Graph tags for social sharing -->
    <meta property="og:title" content="Grade Boundary Calculator - PGrayCS">
    <meta property="og:description" content="Calculate GCSE grade boundaries from actual student scores">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://PGrayCS.github.io/grade_boundary_tool/">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'edu-blue': '#2563EB',
                        'success-green': '#059669',
                        'light': '#F8FAFC',
                        'neutral-grey': '#64748B'
                    }
                }
            }
        }
    </script>
    
    <!-- Lucide React Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        .grade-boundary-row:hover {
            background-color: #f9fafb;
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen bg-light">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200 mb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <a href="https://PGrayCS.github.io" class="text-sm text-neutral-grey hover:text-slate-900 transition-colors">
                        ‚Üê Back to PGrayCS.github.io
                    </a>
                    <div class="w-px h-6 bg-gray-300"></div>
                    <div class="flex items-center space-x-3">
                        <div class="flex items-center justify-center w-10 h-10 bg-edu-blue rounded-lg">
                            <i data-lucide="calculator" class="text-white" style="width: 20px; height: 20px;"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-semibold text-slate-900">Grade Boundary Calculator</h1>
                            <p class="text-sm text-neutral-grey">GCSE 0-9 grading system</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Application -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Configuration Panel -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg border shadow-sm">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-lg font-semibold text-slate-900 flex items-center space-x-3">
                            <div class="flex items-center justify-center w-8 h-8 bg-edu-blue/10 rounded-lg">
                                <i data-lucide="settings" class="text-edu-blue" style="width: 16px; height: 16px;"></i>
                            </div>
                            <span>Configuration</span>
                        </h2>
                    </div>
                    <div class="p-6 space-y-6">
                        <!-- Total Marks Input -->
                        <div>
                            <label for="totalMarks" class="block text-sm font-medium text-slate-900 mb-2">
                                Total Marks/Points <span class="text-red-600">*</span>
                            </label>
                            <div class="relative">
                                <input
                                    id="totalMarks"
                                    type="number"
                                    value="100"
                                    min="1"
                                    max="1000"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-edu-blue focus:border-edu-blue"
                                    placeholder="Enter total marks"
                                />
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                    <span class="text-neutral-grey text-sm">#</span>
                                </div>
                            </div>
                            <p class="mt-1 text-xs text-neutral-grey">Maximum possible score for the assessment</p>
                        </div>

                        <!-- Grading Standard Display -->
                        <div>
                            <label class="block text-sm font-medium text-slate-900 mb-2">
                                Grading Standard
                            </label>
                            <div class="p-3 bg-gray-50 rounded-lg border">
                                <div class="flex items-center space-x-2">
                                    <div class="w-2 h-2 bg-edu-blue rounded-full"></div>
                                    <span class="text-sm font-medium text-slate-900">GCSE Grades (0-9)</span>
                                </div>
                                <p class="text-xs text-neutral-grey mt-1">Standard UK secondary school grading system</p>
                            </div>
                        </div>

                        <!-- Calculation Mode Tabs -->
                        <div>
                            <div class="flex rounded-lg bg-gray-100 p-1" role="tablist">
                                <button
                                    id="generic-tab"
                                    class="tab-button flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-edu-blue"
                                    role="tab"
                                    onclick="switchTab('generic')"
                                >
                                    Generic
                                </button>
                                <button
                                    id="data-driven-tab"
                                    class="tab-button flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-edu-blue"
                                    role="tab"
                                    onclick="switchTab('data-driven')"
                                >
                                    Data-Driven
                                </button>
                            </div>

                            <!-- Generic Tab Content -->
                            <div id="generic-content" class="tab-content mt-4">
                                <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                    <div class="flex items-center mb-2">
                                        <i data-lucide="book-open" class="text-blue-600 mr-2" style="width: 16px; height: 16px;"></i>
                                        <h3 class="text-sm font-medium text-blue-900">Standard Boundaries</h3>
                                    </div>
                                    <p class="text-sm text-blue-800 mb-3">
                                        Uses typical GCSE grade percentages for boundary calculation.
                                    </p>
                                    <button
                                        onclick="calculateGenericBoundaries()"
                                        class="w-full bg-edu-blue hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center"
                                    >
                                        <i data-lucide="calculator" class="mr-2" style="width: 16px; height: 16px;"></i>
                                        Calculate Boundaries
                                    </button>
                                </div>
                            </div>

                            <!-- Data-Driven Tab Content -->
                            <div id="data-driven-content" class="tab-content mt-4 hidden">
                                <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                                    <div class="flex items-center mb-2">
                                        <i data-lucide="users" class="text-green-600 mr-2" style="width: 16px; height: 16px;"></i>
                                        <h3 class="text-sm font-medium text-green-900">Student Scores</h3>
                                    </div>
                                    <p class="text-sm text-green-800 mb-3">
                                        Enter actual test scores to calculate data-driven grade boundaries.
                                    </p>
                                    
                                    <div class="mb-3">
                                        <button 
                                            onclick="loadSampleScores()"
                                            class="text-xs py-1 px-3 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 transition-colors"
                                        >
                                            Load Sample Scores
                                        </button>
                                    </div>
                                    
                                    <textarea
                                        id="scoreInput"
                                        placeholder="Enter numerical scores separated by commas, spaces, or new lines&#10;Example: 85, 72, 91, 68, 78, 94, 67, 82, 89, 76..."
                                        class="w-full min-h-[100px] p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"
                                    ></textarea>
                                    
                                    <div id="pii-warning" class="mt-2 p-2 bg-yellow-50 border border-yellow-300 rounded hidden">
                                        <p class="text-sm text-yellow-800">
                                            Please enter only numerical scores (e.g., 85, 72, 91)
                                        </p>
                                    </div>
                                    
                                    <div class="flex space-x-2 mt-3">
                                        <button
                                            id="add-scores-btn"
                                            onclick="addScores()"
                                            class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center"
                                        >
                                            <i data-lucide="upload" class="mr-1" style="width: 14px; height: 14px;"></i>
                                            Add Scores
                                        </button>
                                        <button
                                            id="clear-scores-btn"
                                            onclick="clearScores()"
                                            class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors hidden"
                                        >
                                            Clear
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Statistics Card -->
                <div class="bg-white rounded-lg border shadow-sm mt-6">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-sm font-medium text-slate-900 flex items-center">
                            <i data-lucide="trending-up" class="text-success-green mr-2" style="width: 16px; height: 16px;"></i>
                            Assessment Statistics
                        </h2>
                    </div>
                    <div id="statistics-content" class="p-6 space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-neutral-grey">Pass Rate</span>
                            <span class="text-sm font-medium text-slate-900">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-neutral-grey">High Achievers</span>
                            <span class="text-sm font-medium text-slate-900">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-neutral-grey">Top Grades</span>
                            <span class="text-sm font-medium text-slate-900">--</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-lg border shadow-sm">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <h2 class="text-lg font-semibold text-slate-900 flex items-center space-x-3">
                                <div class="flex items-center justify-center w-8 h-8 bg-success-green/10 rounded-lg">
                                    <i data-lucide="table" class="text-success-green" style="width: 16px; height: 16px;"></i>
                                </div>
                                <span>Grade Boundaries - GCSE Grades (0-9)</span>
                            </h2>
                            <div class="flex items-center space-x-2 text-sm text-neutral-grey">
                                <i data-lucide="info" style="width: 16px; height: 16px;"></i>
                                <span id="total-marks-display">Total: 100 marks</span>
                                <span id="calculation-mode-badge" class="hidden ml-2 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">Data-Driven</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-slate-900">Grade</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-slate-900">Score Range</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-slate-900">Percentage</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-slate-900">Description</th>
                                        <th id="students-header" class="text-left py-3 px-4 text-sm font-semibold text-slate-900 hidden">Students</th>
                                    </tr>
                                </thead>
                                <tbody id="boundaries-table" class="divide-y divide-gray-100">
                                    <tr>
                                        <td colspan="4" class="py-8 text-center text-neutral-grey">
                                            Click "Calculate Boundaries" to generate grade thresholds
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-16 border-t border-gray-200 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center text-sm text-neutral-grey">
                <p>Grade Boundary Calculator - Part of <a href="https://PGrayCS.github.io" class="text-edu-blue hover:underline">PGrayCS.github.io</a></p>
                <p class="mt-1">Calculate GCSE grade boundaries from actual student test scores</p>
            </div>
        </div>
    </footer>

    <script src="grade-boundary-calculator.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            switchTab('generic');
        });
    </script>
</body>
</html>